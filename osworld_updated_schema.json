{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "OSWorld Task Schema",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the task"
    },
    "snapshot": {
      "type": "string",
      "description": "Application or environment snapshot"
    },
    "instruction": {
      "type": "string",
      "description": "Natural language instruction for the task"
    },
    "source": {
      "type": "string",
      "description": "Source of the task or reference"
    },
    "trajectory": {
      "type": "string",
      "description": "Path to trajectory data"
    },
    "config": {
      "type": "array",
      "description": "Configuration steps to set up the environment",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "launch",
              "chrome_open_tabs",
              "chrome_close_tabs",
              "activate_window",
              "execute",
              "update_browse_history",
              "download",
              "open",
              "sleep",
              "command",
              "googledrive",
              "login"
            ],
            "description": "Type of configuration action"
          },
          "parameters": {
            "type": "object",
            "description": "Parameters for the configuration action",
            "additionalProperties": true
          }
        },
        "required": [
          "type",
          "parameters"
        ],
        "additionalProperties": false
      }
    },
    "related_apps": {
      "type": "array",
      "description": "List of applications involved in the task",
      "items": {
        "type": "string"
      }
    },
    "evaluator": {
      "type": "object",
      "description": "Evaluation configuration for the task",
      "properties": {
        "postconfig": {
          "type": "array",
          "description": "Post-configuration steps",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "description": "Type of post-configuration action"
              },
              "parameters": {
                "type": "object",
                "description": "Parameters for the action",
                "additionalProperties": true
              }
            },
            "required": [
              "type",
              "parameters"
            ],
            "additionalProperties": false
          }
        },
        "func": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "exact_match",
                "is_expected_tabs",
                "is_expected_active_tab",
                "is_expected_active_tab_approximate",
                "is_added_to_steam_cart",
                "check_direct_json_object",
                "is_expected_bookmarks",
                "is_shortcut_on_desktop",
                "is_expected_url_pattern_match",
                "infeasible",
                "check_history_deleted",
                "check_enabled_experiments",
                "is_in_list",
                "is_cookie_deleted",
                "check_font_size",
                "match_in_list",
                "compare_pdfs",
                "check_palette_and_structure_sim",
                "check_structure_sim",
                "check_saturation_increase_and_structure_sim",
                "check_image_mirror",
                "check_green_background",
                "check_config_status",
                "check_file_exists_and_structure_sim",
                "check_brightness_decrease_and_structure_sim",
                "check_include_exclude",
                "check_image_size",
                "check_structure_sim_resized",
                "check_textbox_on_leftside",
                "check_triangle_position",
                "check_contrast_increase_and_structure_sim",
                "compare_table",
                "compare_csv",
                "check_pdf_pages",
                "compare_pptx_files",
                "check_presenter_console_disable",
                "check_transition",
                "check_auto_saving_time",
                "evaluate_presentation_fill_to_rgb_distance",
                "compare_images",
                "check_image_stretch_and_center",
                "check_page_number_colors",
                "compare_audios",
                "check_slide_orientation_Portrait",
                "check_left_panel",
                "compare_line_spacing",
                "check_tabstops",
                "compare_docx_files",
                "compare_subscript_contains",
                "has_page_numbers_in_footers",
                "compare_font_names",
                "is_first_line_centered",
                "compare_docx_tables",
                "check_highlighted_words",
                "compare_docx_images",
                "compare_unique_train_records",
                "evaluate_strike_through_last_paragraph",
                "evaluate_colored_words_in_tables",
                "check_italic_font_size_14",
                "contains_page_break",
                "find_default_font",
                "compare_numbered_lists",
                "compare_image_text",
                "compare_archive",
                "compare_text_file",
                "file_contains",
                "check_line_number",
                "check_python_file_by_test_suite",
                "compare_references",
                "check_image_file_size",
                "check_mp3_meta",
                "check_list",
                "compare_epub",
                "is_extension_installed",
                "compare_image_list",
                "compare_config",
                "literal_match",
                "compare_docx_files_and_ignore_new_lines",
                "compare_conference_city_in_order",
                "is_in_vm_clickboard",
                "check_json",
                "diff_text_file",
                "check_thunderbird_folder",
                "compare_result_files",
                "fuzzy_place_math",
                "is_expected_installed_extensions",
                "compare_zip_files",
                "compare_pdf_images",
                "compare_python_pure_text",
                "compare_htmls",
                "check_accessibility_tree",
                "is_expected_search_query",
                "check_moved_jpgs",
                "is_utc_0",
                "check_gnome_favorite_apps",
                "check_thunderbird_prefs",
                "check_csv",
                "check_thunderbird_filter",
                "run_sqlite3",
                "check_qt_bgcone",
                "check_global_key_play_pause",
                "is_vlc_playing",
                "is_vlc_recordings_folder",
                "is_vlc_fullscreen",
                "check_qt_max_volume",
                "check_qt_minimal_view",
                "compare_videos",
                "check_qt_slider_colours",
                "check_one_instance_when_started_from_file",
                "check_json_settings",
                "check_json_keybindings"
              ]
            },
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "exact_match",
                  "is_expected_tabs",
                  "is_expected_active_tab",
                  "is_expected_active_tab_approximate",
                  "is_added_to_steam_cart",
                  "check_direct_json_object",
                  "is_expected_bookmarks",
                  "is_shortcut_on_desktop",
                  "is_expected_url_pattern_match",
                  "infeasible",
                  "check_history_deleted",
                  "check_enabled_experiments",
                  "is_in_list",
                  "is_cookie_deleted",
                  "check_font_size",
                  "match_in_list",
                  "compare_pdfs",
                  "check_palette_and_structure_sim",
                  "check_structure_sim",
                  "check_saturation_increase_and_structure_sim",
                  "check_image_mirror",
                  "check_green_background",
                  "check_config_status",
                  "check_file_exists_and_structure_sim",
                  "check_brightness_decrease_and_structure_sim",
                  "check_include_exclude",
                  "check_image_size",
                  "check_structure_sim_resized",
                  "check_textbox_on_leftside",
                  "check_triangle_position",
                  "check_contrast_increase_and_structure_sim",
                  "compare_table",
                  "compare_csv",
                  "check_pdf_pages",
                  "compare_pptx_files",
                  "check_presenter_console_disable",
                  "check_transition",
                  "check_auto_saving_time",
                  "evaluate_presentation_fill_to_rgb_distance",
                  "compare_images",
                  "check_image_stretch_and_center",
                  "check_page_number_colors",
                  "compare_audios",
                  "check_slide_orientation_Portrait",
                  "check_left_panel",
                  "compare_line_spacing",
                  "check_tabstops",
                  "compare_docx_files",
                  "compare_subscript_contains",
                  "has_page_numbers_in_footers",
                  "compare_font_names",
                  "is_first_line_centered",
                  "compare_docx_tables",
                  "check_highlighted_words",
                  "compare_docx_images",
                  "compare_unique_train_records",
                  "evaluate_strike_through_last_paragraph",
                  "evaluate_colored_words_in_tables",
                  "check_italic_font_size_14",
                  "contains_page_break",
                  "find_default_font",
                  "compare_numbered_lists",
                  "compare_image_text",
                  "compare_archive",
                  "compare_text_file",
                  "file_contains",
                  "check_line_number",
                  "check_python_file_by_test_suite",
                  "compare_references",
                  "check_image_file_size",
                  "check_mp3_meta",
                  "check_list",
                  "compare_epub",
                  "is_extension_installed",
                  "compare_image_list",
                  "compare_config",
                  "literal_match",
                  "compare_docx_files_and_ignore_new_lines",
                  "compare_conference_city_in_order",
                  "is_in_vm_clickboard",
                  "check_json",
                  "diff_text_file",
                  "check_thunderbird_folder",
                  "compare_result_files",
                  "fuzzy_place_math",
                  "is_expected_installed_extensions",
                  "compare_zip_files",
                  "compare_pdf_images",
                  "compare_python_pure_text",
                  "compare_htmls",
                  "check_accessibility_tree",
                  "is_expected_search_query",
                  "check_moved_jpgs",
                  "is_utc_0",
                  "check_gnome_favorite_apps",
                  "check_thunderbird_prefs",
                  "check_csv",
                  "check_thunderbird_filter",
                  "run_sqlite3",
                  "check_qt_bgcone",
                  "check_global_key_play_pause",
                  "is_vlc_playing",
                  "is_vlc_recordings_folder",
                  "is_vlc_fullscreen",
                  "check_qt_max_volume",
                  "check_qt_minimal_view",
                  "compare_videos",
                  "check_qt_slider_colours",
                  "check_one_instance_when_started_from_file",
                  "check_json_settings",
                  "check_json_keybindings"
                ]
              }
            }
          ],
          "description": "Evaluation function(s) to use"
        },
        "conj": {
          "type": "string",
          "enum": [
            "or",
            "and"
          ],
          "description": "Logical conjunction for multiple functions"
        },
        "result": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "enable_do_not_track",
                    "open_tabs_info",
                    "active_url_from_accessTree",
                    "page_info",
                    "active_tab_url_parse",
                    "url_path_parse",
                    "bookmarks",
                    "profile_name",
                    "new_startup_page",
                    "shortcuts_on_desktop",
                    "url_dashPart",
                    "history",
                    "active_tab_html_parse",
                    "enabled_experiments",
                    "find_unpacked_extension_path",
                    "cookie_data",
                    "enable_enhanced_safety_browsing",
                    "data_delete_automacally",
                    "active_tab_info",
                    "chrome_font_size",
                    "default_search_engine",
                    "vm_file",
                    "gimp_config_file",
                    "vm_command_line",
                    "audio_in_slide",
                    "accessibility_tree",
                    "googledrive_file",
                    "cloud_file",
                    "cache_file",
                    "background_image_in_slide",
                    "vscode_config",
                    "content_from_vm_file",
                    "vm_command_error",
                    "rule",
                    "find_installed_extension_name",
                    "default_video_player",
                    "vm_wallpaper",
                    "vm_terminal_output",
                    "list_directory",
                    "vlc_config",
                    "vlc_playing_info",
                    "vm_screen_size"
                  ],
                  "description": "Type of result to evaluate"
                },
                "path": {
                  "type": "string",
                  "description": "File path"
                },
                "dest": {
                  "type": "string",
                  "description": "Destination path"
                },
                "command": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Command to execute"
                }
              },
              "required": [
                "type"
              ],
              "additionalProperties": false
            },
            {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "enable_do_not_track",
                      "open_tabs_info",
                      "active_url_from_accessTree",
                      "page_info",
                      "active_tab_url_parse",
                      "url_path_parse",
                      "bookmarks",
                      "profile_name",
                      "new_startup_page",
                      "shortcuts_on_desktop",
                      "url_dashPart",
                      "history",
                      "active_tab_html_parse",
                      "enabled_experiments",
                      "find_unpacked_extension_path",
                      "cookie_data",
                      "enable_enhanced_safety_browsing",
                      "data_delete_automacally",
                      "active_tab_info",
                      "chrome_font_size",
                      "default_search_engine",
                      "vm_file",
                      "gimp_config_file",
                      "vm_command_line",
                      "audio_in_slide",
                      "accessibility_tree",
                      "googledrive_file",
                      "cloud_file",
                      "cache_file",
                      "background_image_in_slide",
                      "vscode_config",
                      "content_from_vm_file",
                      "vm_command_error",
                      "rule",
                      "find_installed_extension_name",
                      "default_video_player",
                      "vm_wallpaper",
                      "vm_terminal_output",
                      "list_directory",
                      "vlc_config",
                      "vlc_playing_info",
                      "vm_screen_size"
                    ],
                    "description": "Type of result to evaluate"
                  },
                  "path": {
                    "type": "string",
                    "description": "File path"
                  },
                  "dest": {
                    "type": "string",
                    "description": "Destination path"
                  },
                  "command": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Command to execute"
                  }
                },
                "required": [
                  "type"
                ],
                "additionalProperties": false
              }
            }
          ],
          "description": "Result specification for evaluation"
        },
        "expected": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "rule",
                    "rule_relativeTime",
                    "gotoRecreationPage_and_get_html_content",
                    "pdf_from_url",
                    "vm_file",
                    "cloud_file",
                    "info_from_website",
                    "vm_command_line",
                    "vm_window_size"
                  ],
                  "description": "Type of expected result"
                },
                "path": {
                  "type": "string",
                  "description": "Expected file path"
                },
                "dest": {
                  "type": "string",
                  "description": "Expected destination"
                },
                "rules": {
                  "type": "object",
                  "description": "Validation rules",
                  "additionalProperties": true
                }
              },
              "required": [
                "type"
              ],
              "additionalProperties": false
            },
            {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "rule",
                      "rule_relativeTime",
                      "gotoRecreationPage_and_get_html_content",
                      "pdf_from_url",
                      "vm_file",
                      "cloud_file",
                      "info_from_website",
                      "vm_command_line",
                      "vm_window_size"
                    ],
                    "description": "Type of expected result"
                  },
                  "path": {
                    "type": "string",
                    "description": "Expected file path"
                  },
                  "dest": {
                    "type": "string",
                    "description": "Expected destination"
                  },
                  "rules": {
                    "type": "object",
                    "description": "Validation rules",
                    "additionalProperties": true
                  }
                },
                "required": [
                  "type"
                ],
                "additionalProperties": false
              }
            }
          ],
          "description": "Expected result specification"
        }
      },
      "additionalProperties": true
    },
    "proxy": {
      "type": "boolean",
      "description": "Whether proxy is required"
    },
    "fixed_ip": {
      "type": "boolean",
      "description": "Whether fixed IP is required"
    },
    "possibility_of_env_change": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high"
      ],
      "description": "Likelihood of environment changes"
    },
    "model_pass_rate": {
      "type": "object",
      "description": "Pass rates for different models",
      "additionalProperties": {
        "type": "number",
        "minimum": 0,
        "maximum": 1
      }
    },
    "annotator_hints": {
      "type": "array",
      "description": "Hints for annotators",
      "items": {
        "type": "string"
      }
    },
    "knowledge_points": {
      "type": "array",
      "description": "Knowledge points tested",
      "items": {
        "type": "string"
      }
    },
    "coverage": {
      "type": "string",
      "description": "Coverage information"
    }
  },
  "required": [
    "id",
    "snapshot",
    "instruction",
    "source",
    "trajectory",
    "config",
    "related_apps",
    "evaluator",
    "proxy",
    "fixed_ip",
    "possibility_of_env_change",
    "model_pass_rate",
    "annotator_hints",
    "knowledge_points",
    "coverage"
  ],
  "additionalProperties": false
}